{"version":3,"sources":["components/ErrorView/ErrorView.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/LoaderComponent/LoaderComponent.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/LoaderComponent/LoaderComponent.js","components/ErrorView/oops.jpg","components/ErrorView/ErrorView.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/services/apiService.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","LoaderComponent","className","s","overlay","type","color","height","width","timeout","ErrorView","texterror","role","wrapper","src","errorImage","alt","text","Searchbar","onHandleSubmit","useState","query","setQuery","header","form","onSubmit","e","preventDefault","trim","toast","info","btn","label","input","value","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","imageGalleryItem","imageGalleryItemImage","onClick","ImageGallery","images","imageGallery","map","id","Button","onLoadMore","button","apiService","page","a","axios","get","data","hits","modalRoot","document","querySelector","Modal","onToggleModal","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","backdrop","currentTarget","modal","App","setImages","setLargeImageURL","setPage","error","setError","isLoading","setIsLoading","showModal","setShowModal","services","request","length","prevImages","fetchImages","toggleModal","scrollPage","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","app","newSearch","dataset","source","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6c6ec28c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorView_wrapper__21hvW\",\"text\":\"ErrorView_text__2DYol\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1LEDw\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2Xjb0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3FAPo\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"LoaderComponent_overlay__3-Jp5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__20iVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__34uEY\",\"form\":\"Searchbar_form__XuKjc\",\"btn\":\"Searchbar_btn__37Gab\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./LoaderComponent.module.css\";\n\nfunction LoaderComponent() {\n  return (\n    <div className={s.overlay}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={0}\n      />\n    </div>\n  );\n}\n\nexport default LoaderComponent;\n","export default __webpack_public_path__ + \"static/media/oops.72ac764a.jpg\";","import PropTypes from \"prop-types\";\nimport errorImage from \"./oops.jpg\";\nimport s from \"./ErrorView.module.css\";\n\nfunction ErrorView({ texterror }) {\n  return (\n    <div role=\"alert\" className={s.wrapper}>\n      <img src={errorImage} width=\"550\" alt=\"sadcat\" />\n      <p text={texterror} className={s.text}>\n        {texterror}\n      </p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  texterror: PropTypes.string.isRequired,\n};\n\nexport default ErrorView;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Searchbar({ onHandleSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (query.trim() === \"\") {\n      return toast.info(\"ðŸ˜± Please enter a value for search images!\");\n    }\n    onHandleSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.header}>\n      <form className={s.form} onSubmit={onSubmit}>\n        <button type=\"submit\" className={s.btn}>\n          <span className={s.label}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          value={query}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={({ target }) => setQuery(target.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onHandleSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport {\n  imageGalleryItem,\n  imageGalleryItemImage,\n} from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\n  return (\n    <li className={imageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        className={imageGalleryItemImage}\n        onClick={onOpenModal}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport { imageGallery } from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={imageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { button } from \"./Button.module.css\";\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={button} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","//\nimport axios from \"axios\";\n\nconst apiService = async (query, page) => {\n  const { data } = await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=18963132-a5d8582da162d4c0f5ee62384&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return data.hits;\n};\n\nexport default apiService;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ largeImageURL, onToggleModal }) {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.code === \"Escape\") {\n        onToggleModal();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [onToggleModal]);\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onToggleModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.backdrop} onClick={handleBackdropClick}>\n      <div className={s.modal}>\n        <img src={largeImageURL} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onToggleModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport LoaderComponent from \"./components/LoaderComponent/LoaderComponent\";\nimport ErrorView from \"./components/ErrorView/ErrorView\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport services from \"./components/services/apiService\";\nimport Modal from \"./components/Modal/Modal\";\nimport { app } from \"./App.module.css\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!query) return;\n    const fetchImages = async () => {\n      try {\n        const request = await services(query, page);\n        if (request.length === 0) {\n          return setError(`No results were found for ${query}!`);\n        }\n        setImages((prevImages) => [...prevImages, ...request]);\n      } catch (error) {\n        setError(\"Something went wrong. Try again.\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchImages();\n  }, [page, query]);\n\n  const searchImages = (newSearch) => {\n    setQuery(newSearch);\n    setImages([]);\n    setPage(1);\n    setError(null);\n    setIsLoading(true);\n  };\n\n  const onLoadMore = () => {\n    setIsLoading(true);\n    setPage((prevPage) => prevPage + 1);\n    scrollPage();\n  };\n\n  const onOpenModal = (e) => {\n    setLargeImageURL(e.target.dataset.source);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const scrollPage = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 160,\n        behavior: \"smooth\",\n      });\n    }, 800);\n  };\n\n  return (\n    <div className={app}>\n      <Searchbar onHandleSubmit={searchImages} />\n\n      {error && <ErrorView texterror={error} />}\n\n      {images.length > 0 && !error && (\n        <ImageGallery images={images} onOpenModal={onOpenModal} />\n      )}\n\n      {isLoading && <LoaderComponent />}\n\n      {!isLoading && images.length >= 12 && !error && (\n        <Button onLoadMore={onLoadMore} />\n      )}\n\n      {showModal && (\n        <Modal onToggleModal={toggleModal} largeImageURL={largeImageURL} />\n      )}\n      <ToastContainer autoClose={3700} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}